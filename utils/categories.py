import re

# Категорії за аналогією з ATB
CATEGORIES = {
    "Випічка": [
        "хліб", "булка", "батон", "круасан", "лаваш", "батончик", "кейк"
    ],
    "Молочні продукти": [
        "молоко", "кефір", "йогурт", "сметана", "творог", "масло", "бринза", "сир"
    ],
    "М'ясо та ковбаси": [
        "курка", "індичка", "свинина", "яловичина", "фарш", "ковбас", "шинка", "бекон"
    ],
    "Риба та морепродукти": [
        "риба", "лосось", "тунець", "сардини", "кревет", "калмар", "молюск", "шпроти"
    ],
    "Заморожені продукти": [
        "морозиво", "пломбір", "кабачок"  # додавайте слова, які вказують на холод
    ],
    "Фрукти": [
        "яблуко", "банан", "апельсин", "груша", "киві", "ананас", "виноград"
    ],
    "Овочі": [
        "помідор", "огірок", "капуста", "морква", "буряк", "цибуля", "перчик"
    ],
    "Бакалія": [
        "рис", "гречка", "макарон", "борошно", "цукор", "олія", "консерв"
    ],
    "Напої": [
        "вода", "сік", "чай", "кава", "квас", "cola", "fanta", "pepsi"
    ],
    "Снеки та солодощі": [
        "печиво", "шоколад", "цукер", "вафля", "пряник", "горішки", "снікерс"
    ],
    "Приправи та соуси": [
        "перець", "сіль", "приправа", "соус", "кетчуп", "майонез", "майонез", "гірчиця"
    ],
    "Побутова хімія": [
        "мило", "шампунь", "порошок", "засіб", "серветки", "рукавички", "губка"
    ],
    "Гігієна та косметика": [
        "зубна паста", "дезодорант", "шампунь", "гель", "крем"
    ]
}

def categorize(name: str) -> str:
    text = name.lower()
    for category, keywords in CATEGORIES.items():
        for kw in keywords:
            if re.search(rf"\b{re.escape(kw)}", text):
                return category
    return "Інше"
